# 옵션, 도움말, 에러 처리
---
|기능|명령어|
|:-----:|:---:|
|옵션 설정|:set|
|옵션 파일|.vimrc (혹은 _vimrc)|
|색상 테마|:colo|
|도움말|:help|
|검색어 확장|<CTRL-D>|
---

</br>

## Vim 옵션
:set all 명령은 Vim에서 사용하는 모든 옵션을 보여줌</br>
:set 명령은 현재 설정된 주요 옵션들만 간략하게 보여줌
- no가 앞에 붙은 옵션은 현재 비활성화 상태, no가 붙지 않은 것들은 활성화 상태
- 중간에 등호 기호(=)가 적혀있는 옵션은 특정 값이 설정된 옵션

|명령어|기능|
|:-----:|:---:|
|:set|현재 옵션 설정을 보여줌|
|:set all|모든 옵션 설정을 보여줌(off 상태의 옵션까지 모두 출력)|
|:set [no]namne|name에 해당하는 옵션을 켜거나 끔. no를 붙이면 off 상태가 됨|
|:set name!|name 옵션의 on, off 상태를 전환함|
|:set name=value|name에 해당하는 옵션에 value 값을 할당함. name만 지정하면 해당 옵션의 value 값을 보여줌|

- name과 value와 등호 기호 사이에는 공백이 허용되지 않음

</br>

### 편집과 관련된 옵션
|명령어|기능|
|:-----:|:---:|
|nu (number)|화면에 행 번호를 표시|
|ai (autoindent)|자동 들여쓰기 사용|
|cindent|C언어 스타일의 들여쓰기 사용|
|ts=value (tabstop)|탭 크기를 value로 지정|
|sw=value (shiftwidth)|블록 이동시 열의 너비 지정|
|tw=value (textwidth)|편집할 화면의 열 길이를 지정 (0이면 비활성화)|

</br>

### 옵션과 색상 테마 저장하기 (vim 설정 파일)
vim을 실행하고 리눅스, 유닉스, 맥에서는 :e ~/.vimrc, 윈도우 계열은 :e ~/_vimrc라고 명령하면 설정 파일을 열 수 있다.</br>
+ e는 edit 명령(파일 편집), 물결표시(~)는 자신의 홈 디렉터리를 의미
+ vimrc 설정 파일을 열고 옵션이나 단축키 등 설정할 내용들을 입력 (/vim/vimrc 참고)
+ vim 실행 중에 ':source 파일' 명령을 사용하면 외부 환경 파일이나 스크립트 파일을 불러올 수 있음. 하지만 .vimrc 파일 변경 후 source명령을 사용하면 옵션이 바로 적용되지 않고 오류가 발생할 수도 있기에 왠만하면 재시작하도록 하자

</br>

### syntax 명령어
|명령어|기능|
|:-----:|:---:|
|:syntax enable|문법 표시 사용|
|:syntax clear|문법 표시 사용X|

- synatx는 옵션이 아니므로 앞에 set을 붙이지 않음
- :syntax enable은 문법 표시 기능을 활성화하여 잘못된 예약어의 사용이나 블록 구조, 특수 기호를 눈에 잘 띄게 표시함

</br>

### 색상 테마
|명령어|기능|
|:-----:|:---:|
|:colorscheme <scheme>|<scheme> 색상을 사용|

총 17 종류의 색상이 존재하지만 어떤 색상이 있는지 일일이 적지는 않겠다.</br>
- 색상 종류는 <Tab>으로 순서대로 확인하거나, <CTRL-D>로 가능한 목록을 화면에 띄워서 확인 가능

</br>

## 도움말 사용
|모드|접두어|예|
|:---:|:---:|:---:|
|일반 모드|없음|:help x|
|입력 모드|i_|:help i_CTRL-N|
|명령행 모드|:|:help :w|
|비주얼 모드|v_|:help v_u|
|vim 실행 인수|-|:help -r|
|옵션|'|:help'tabstop'|
|명령행 모드 특수키|c_|:help c_CTRL-B|

- 검색할 명령어가 기억하지 않으면 :help w 까지 입력한 상태에서 <CTRL-D>를 누르면 w로 시작하는 모든 명령어를 볼 수 있음
- 만약 여러 개의 키 입력을 사용하는 명령어의 도움말을 보고 싶다면 명령어들을 밑줄(_)로 연결해서 검색. n과 m을 입력하는 명령어가 있다고 한다면 :help n_m아라고 검색.
- 도움말을 살펴보면, 여러 색상도 강조된 부분들이 있는데 이 부분들은 다른 도움말 문서와 연결되어 있는 태그. 해당 부분에 커서를 위치하고 <CTRL-]>를 입력하면 연결된 도움말로 이동할 수 있음

|명령어|기능|
|:-----:|:---:|
|CTRL-]|커서가 위치한 타이틀(태그)로 이동|
|CTRL-T|이전 타이틀(태그)로 이동|
|:tags|현재 이동한 타이틀(태그)들의 리스트를 보여줌|

</br>

## 에러 처리
유닉스나 리눅스에서 <CTRL-Z>를 누르면 현재 작동 중인 포어그라운드 프로세스가 잠시 정지한다. (멀티태스킹에 사용)</br>
Vim을 실행하자마자 <CTRL-Z>로 정지시키면 터미널에 정지되었다는 문구를 확인할 수 있다. 터미널에 'fg %작업번호'라고 명령하면 정지된 작업을 다시 불러올 수 있다.</br>
정지해둔 상태로 다시 해당 파일을 열려고 할 때 스왑 파일을 만들지 못하여 에러가 발생한다. (Vim을 열면 스왑 파일을 하나 생성하는데 기존의 파일을종료하지도 않고 다시 만들려고 하기 때문에 발생)</br>
그리고 아래와 같은 해결책을 터미널에서 제시한다.

|명령어|기능|
|:-----:|:---:|
|O|읽기 전용으로 파일 열기|
|E|무시하고 파일 편집|
|R|복구 모드로 파일 열기|
|Q|Vim 종료|
|A|Vim 종료 (core 파일을 만들 수 있다면 만듦. 디버깅용)

- 읽기 전용(O)으로 열면 기존 스왑 파일에 아무런 영향 주지 않음
- 무시하고 파일 편집(E)하면 나중에 서로 덮어쓰는 경우가 발생할 수 있음
- 복구 모드(R)는 Vim이 비정상적으로 종료하여 스왑 파일의 내용이 원본 파일에 저장되지 못한 경우에 사용
-- 비정상적으로 종료한 경우에는 pid 번호 뒤에 'still running' 메시지가 보이지 않게 됨. 또한 하단 실행 가능 명령에 D(Delete)가 나타남
